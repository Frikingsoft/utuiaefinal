import{d as B,E as T,r as C,aD as ne,D as F,M as ae,aE as Z,a2 as se,l as G,h as c,aq as z,s as V,T as ue,A as W,ar as le,j as L,G as ie,aF as re,aG as ce}from"./index-ee158cf4.js";const ye=B({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component");function me(l){const u=T("useRender");u.render=l}function ve(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const v=C(),s=C();if(ne){const t=new ResizeObserver(n=>{l==null||l(n,t),n.length&&(u==="content"?s.value=n[0].contentRect:s.value=n[0].target.getBoundingClientRect())});F(()=>{t.disconnect()}),ae(v,(n,i)=>{i&&(t.unobserve(Z(i)),s.value=void 0),n&&t.observe(Z(n))},{flush:"post"})}return{resizeRef:v,contentRect:se(s)}}const P=Symbol.for("vuetify:layout"),X=Symbol.for("vuetify:layout-item"),q=1e3,ge=B({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),he=B({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function be(l){const u=G(P);if(!u)throw new Error("[Vuetify] Could not find injected layout");const v=l.id??`layout-item-${ie()}`,s=T("useLayoutItem");W(X,{id:v});const t=V(!1);re(()=>t.value=!0),ce(()=>t.value=!1);const{layoutItemStyles:n,layoutItemScrimStyles:i}=u.register(s,{...l,active:c(()=>t.value?!1:l.active.value),id:v});return F(()=>u.unregister(v)),{layoutItemStyles:n,layoutRect:u.layoutRect,layoutItemScrimStyles:i}}const de=(l,u,v,s)=>{let t={top:0,left:0,right:0,bottom:0};const n=[{id:"",layer:{...t}}];for(const i of l){const y=u.get(i),g=v.get(i),$=s.get(i);if(!y||!g||!$)continue;const h={...t,[y.value]:parseInt(t[y.value],10)+($.value?parseInt(g.value,10):0)};n.push({id:i,layer:h}),t=h}return n};function Ie(l){const u=G(P,null),v=c(()=>u?u.rootZIndex.value-100:q),s=C([]),t=z(new Map),n=z(new Map),i=z(new Map),y=z(new Map),g=z(new Map),{resizeRef:$,contentRect:h}=ve(),_=c(()=>{const o=new Map,d=l.overlaps??[];for(const e of d.filter(r=>r.includes(":"))){const[r,a]=e.split(":");if(!s.value.includes(r)||!s.value.includes(a))continue;const p=t.get(r),m=t.get(a),R=n.get(r),S=n.get(a);!p||!m||!R||!S||(o.set(a,{position:p.value,amount:parseInt(R.value,10)}),o.set(r,{position:m.value,amount:-parseInt(S.value,10)}))}return o}),b=c(()=>{const o=[...new Set([...i.values()].map(e=>e.value))].sort((e,r)=>e-r),d=[];for(const e of o){const r=s.value.filter(a=>{var p;return((p=i.get(a))==null?void 0:p.value)===e});d.push(...r)}return de(d,t,n,y)}),j=c(()=>!Array.from(g.values()).some(o=>o.value)),I=c(()=>b.value[b.value.length-1].layer),Y=c(()=>({"--v-layout-left":L(I.value.left),"--v-layout-right":L(I.value.right),"--v-layout-top":L(I.value.top),"--v-layout-bottom":L(I.value.bottom),...j.value?void 0:{transition:"none"}})),x=c(()=>b.value.slice(1).map((o,d)=>{let{id:e}=o;const{layer:r}=b.value[d],a=n.get(e),p=t.get(e);return{id:e,...r,size:Number(a.value),position:p.value}})),D=o=>x.value.find(d=>d.id===o),O=T("createLayout"),H=V(!1);ue(()=>{H.value=!0}),W(P,{register:(o,d)=>{let{id:e,order:r,position:a,layoutSize:p,elementSize:m,active:R,disableTransitions:S,absolute:k}=d;i.set(e,r),t.set(e,a),n.set(e,p),y.set(e,R),S&&g.set(e,S);const N=le(X,O==null?void 0:O.vnode).indexOf(o);N>-1?s.value.splice(N,0,e):s.value.push(e);const K=c(()=>x.value.findIndex(w=>w.id===e)),A=c(()=>v.value+b.value.length*2-K.value*2),ee=c(()=>{const w=a.value==="left"||a.value==="right",M=a.value==="right",oe=a.value==="bottom",U={[a.value]:0,zIndex:A.value,transform:`translate${w?"X":"Y"}(${(R.value?0:-110)*(M||oe?-1:1)}%)`,position:k.value||v.value!==q?"absolute":"fixed",...j.value?void 0:{transition:"none"}};if(!H.value)return U;const f=x.value[K.value];if(!f)throw new Error(`[Vuetify] Could not find layout item "${e}"`);const E=_.value.get(e);return E&&(f[E.position]+=E.amount),{...U,height:w?`calc(100% - ${f.top}px - ${f.bottom}px)`:m.value?`${m.value}px`:void 0,left:M?void 0:`${f.left}px`,right:M?`${f.right}px`:void 0,top:a.value!=="bottom"?`${f.top}px`:void 0,bottom:a.value!=="top"?`${f.bottom}px`:void 0,width:w?m.value?`${m.value}px`:void 0:`calc(100% - ${f.left}px - ${f.right}px)`}}),te=c(()=>({zIndex:A.value-1}));return{layoutItemStyles:ee,layoutItemScrimStyles:te,zIndex:A}},unregister:o=>{i.delete(o),t.delete(o),n.delete(o),y.delete(o),g.delete(o),s.value=s.value.filter(d=>d!==o)},mainRect:I,mainStyles:Y,getLayoutItem:D,items:x,layoutRect:h,rootZIndex:v});const J=c(()=>["v-layout",{"v-layout--full-height":l.fullHeight}]),Q=c(()=>({zIndex:v.value,position:u?"relative":void 0,overflow:u?"hidden":void 0}));return{layoutClasses:J,layoutStyles:Q,getLayoutItem:D,items:x,layoutRect:h,layoutRef:$}}export{ge as a,he as b,Ie as c,be as d,ve as e,ye as m,me as u};
